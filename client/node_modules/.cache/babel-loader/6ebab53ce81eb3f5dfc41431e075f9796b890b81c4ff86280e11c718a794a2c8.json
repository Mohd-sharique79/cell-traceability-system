{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohds\\\\cell-traceability-system\\\\client\\\\src\\\\components\\\\ManufacturingValidation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { CheckCircle, XCircle, Play, Square, RotateCcw, Scan } from 'lucide-react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ManufacturingValidation = () => {\n  _s();\n  const [kitSerialNumber, setKitSerialNumber] = useState('');\n  const [operatorName, setOperatorName] = useState('');\n  const [sessionId, setSessionId] = useState(null);\n  const [kitData, setKitData] = useState(null);\n  const [scannedCells, setScannedCells] = useState([]);\n  const [currentCellInput, setCurrentCellInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSessionActive, setIsSessionActive] = useState(false);\n  const startValidationSession = async e => {\n    e.preventDefault();\n    if (!kitSerialNumber.trim() || !operatorName.trim()) {\n      toast.error('Please enter both kit serial number and operator name');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      // First, get kit details\n      const kitResponse = await axios.get(`/api/kits/${kitSerialNumber.trim()}`);\n      setKitData(kitResponse.data);\n\n      // Start validation session\n      const sessionResponse = await axios.post('/api/validation/start', {\n        kitSerialNumber: kitSerialNumber.trim(),\n        operatorName: operatorName.trim()\n      });\n      setSessionId(sessionResponse.data.sessionId);\n      setIsSessionActive(true);\n      setScannedCells([]);\n      toast.success('Validation session started successfully!');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error starting session:', error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to start validation session');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleCellScan = async () => {\n    if (!currentCellInput.trim() || !sessionId) {\n      toast.error('Please enter a cell serial number');\n      return;\n    }\n    if (scannedCells.some(cell => cell.serialNumber === currentCellInput.trim())) {\n      toast.error('Cell already scanned');\n      setCurrentCellInput('');\n      return;\n    }\n    try {\n      const response = await axios.post('/api/validation/scan', {\n        sessionId,\n        cellSerialNumber: currentCellInput.trim()\n      });\n      const newScannedCell = {\n        serialNumber: currentCellInput.trim(),\n        isValid: response.data.isValid,\n        timestamp: new Date().toLocaleTimeString()\n      };\n      setScannedCells([...scannedCells, newScannedCell]);\n      if (response.data.isValid) {\n        toast.success('✅ Cell validated successfully!');\n      } else {\n        toast.error('❌ Cell does not belong to this kit!');\n      }\n      setCurrentCellInput('');\n    } catch (error) {\n      console.error('Error scanning cell:', error);\n      toast.error('Failed to validate cell');\n    }\n  };\n  const completeSession = async () => {\n    if (!sessionId) return;\n    try {\n      await axios.post('/api/validation/complete', {\n        sessionId\n      });\n      toast.success('Validation session completed successfully!');\n      resetSession();\n    } catch (error) {\n      console.error('Error completing session:', error);\n      toast.error('Failed to complete session');\n    }\n  };\n  const resetSession = () => {\n    setSessionId(null);\n    setKitData(null);\n    setScannedCells([]);\n    setCurrentCellInput('');\n    setIsSessionActive(false);\n    setKitSerialNumber('');\n    setOperatorName('');\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && isSessionActive) {\n      e.preventDefault();\n      handleCellScan();\n    }\n  };\n  const getValidationProgress = () => {\n    if (!kitData) return 0;\n    const validScans = scannedCells.filter(cell => cell.isValid).length;\n    return validScans / kitData.cells.length * 100;\n  };\n  const isValidationComplete = () => {\n    if (!kitData) return false;\n    const validScans = scannedCells.filter(cell => cell.isValid).length;\n    return validScans === kitData.cells.length;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto space-y-6\",\n    children: [!isSessionActive && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-medium text-gray-900 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Play, {\n            className: \"h-5 w-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), \"Start Validation Session\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-600\",\n          children: \"Scan kit barcode and enter operator details to begin validation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: startValidationSession,\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"kitSerialNumber\",\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Kit Serial Number *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"kitSerialNumber\",\n              value: kitSerialNumber,\n              onChange: e => setKitSerialNumber(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",\n              placeholder: \"Scan kit barcode\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"operatorName\",\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Operator Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"operatorName\",\n              value: operatorName,\n              onChange: e => setOperatorName(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",\n              placeholder: \"Enter operator name\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 flex justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isLoading,\n            className: \"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center\",\n            children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 21\n              }, this), \"Starting...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Play, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 21\n              }, this), \"Start Session\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }, this), isSessionActive && kitData && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-medium text-gray-900 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Scan, {\n                  className: \"h-5 w-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this), \"Validation Session Active\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-sm text-gray-600\",\n                children: [\"Kit: \", kitData.kit.kit_serial_number, \" | Operator: \", operatorName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: completeSession,\n                disabled: !isValidationComplete(),\n                className: \"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Square, {\n                  className: \"h-4 w-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this), \"Complete\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: resetSession,\n                className: \"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n                  className: \"h-4 w-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 21\n                }, this), \"Reset\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium text-gray-700\",\n              children: \"Validation Progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: [scannedCells.filter(cell => cell.isValid).length, \" / \", kitData.cells.length, \" cells\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-gray-200 rounded-full h-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-green-600 h-2 rounded-full transition-all duration-300\",\n              style: {\n                width: `${getValidationProgress()}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4 border-b border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900\",\n            children: \"Cell Scanning\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-gray-600\",\n            children: \"Scan each cell barcode to validate against the kit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: currentCellInput,\n              onChange: e => setCurrentCellInput(e.target.value),\n              onKeyPress: handleKeyPress,\n              className: \"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",\n              placeholder: \"Scan cell barcode\",\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCellScan,\n              className: \"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Scan, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 19\n              }, this), \"Scan\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-sm font-medium text-gray-700 mb-3\",\n              children: [\"Expected Cells for Kit \", kitData.kit.kit_serial_number]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-4 md:grid-cols-8 gap-2\",\n              children: kitData.cells.map((cell, index) => {\n                const scannedCell = scannedCells.find(sc => sc.serialNumber === cell);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `p-2 rounded border text-center text-sm font-mono ${!scannedCell ? 'bg-gray-100 border-gray-300 text-gray-500' : scannedCell.isValid ? 'bg-green-100 border-green-300 text-green-800' : 'bg-red-100 border-red-300 text-red-800'}`,\n                  children: [cell, scannedCell && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-1\",\n                    children: scannedCell.isValid ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                      className: \"h-4 w-4 text-green-600 mx-auto\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 306,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(XCircle, {\n                      className: \"h-4 w-4 text-red-600 mx-auto\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 27\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this), scannedCells.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-sm font-medium text-gray-700 mb-3\",\n              children: \"Scan History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2 max-h-48 overflow-y-auto\",\n              children: scannedCells.map((cell, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex items-center justify-between p-3 rounded border ${cell.isValid ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [cell.isValid ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"h-5 w-5 text-green-600 mr-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(XCircle, {\n                    className: \"h-5 w-5 text-red-600 mr-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-mono text-sm\",\n                    children: cell.serialNumber\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500\",\n                  children: cell.timestamp\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 25\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(ManufacturingValidation, \"xw94gakSKC51C4zk4ziPDHCgGq4=\");\n_c = ManufacturingValidation;\nexport default ManufacturingValidation;\nvar _c;\n$RefreshReg$(_c, \"ManufacturingValidation\");","map":{"version":3,"names":["React","useState","useEffect","toast","CheckCircle","XCircle","Play","Square","RotateCcw","Scan","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","ManufacturingValidation","_s","kitSerialNumber","setKitSerialNumber","operatorName","setOperatorName","sessionId","setSessionId","kitData","setKitData","scannedCells","setScannedCells","currentCellInput","setCurrentCellInput","isLoading","setIsLoading","isSessionActive","setIsSessionActive","startValidationSession","e","preventDefault","trim","error","kitResponse","get","data","sessionResponse","post","success","_error$response","_error$response$data","console","response","handleCellScan","some","cell","serialNumber","cellSerialNumber","newScannedCell","isValid","timestamp","Date","toLocaleTimeString","completeSession","resetSession","handleKeyPress","key","getValidationProgress","validScans","filter","length","cells","isValidationComplete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","value","onChange","target","placeholder","required","disabled","kit","kit_serial_number","onClick","style","width","onKeyPress","autoFocus","map","index","scannedCell","find","sc","_c","$RefreshReg$"],"sources":["C:/Users/mohds/cell-traceability-system/client/src/components/ManufacturingValidation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { CheckCircle, XCircle, Play, Square, RotateCcw, Scan } from 'lucide-react';\r\nimport axios from 'axios';\r\n\r\nconst ManufacturingValidation = () => {\r\n  const [kitSerialNumber, setKitSerialNumber] = useState('');\r\n  const [operatorName, setOperatorName] = useState('');\r\n  const [sessionId, setSessionId] = useState(null);\r\n  const [kitData, setKitData] = useState(null);\r\n  const [scannedCells, setScannedCells] = useState([]);\r\n  const [currentCellInput, setCurrentCellInput] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isSessionActive, setIsSessionActive] = useState(false);\r\n\r\n  const startValidationSession = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!kitSerialNumber.trim() || !operatorName.trim()) {\r\n      toast.error('Please enter both kit serial number and operator name');\r\n      return;\r\n    }\r\n    \r\n    setIsLoading(true);\r\n    \r\n    try {\r\n      // First, get kit details\r\n      const kitResponse = await axios.get(`/api/kits/${kitSerialNumber.trim()}`);\r\n      setKitData(kitResponse.data);\r\n      \r\n      // Start validation session\r\n      const sessionResponse = await axios.post('/api/validation/start', {\r\n        kitSerialNumber: kitSerialNumber.trim(),\r\n        operatorName: operatorName.trim()\r\n      });\r\n      \r\n      setSessionId(sessionResponse.data.sessionId);\r\n      setIsSessionActive(true);\r\n      setScannedCells([]);\r\n      toast.success('Validation session started successfully!');\r\n      \r\n    } catch (error) {\r\n      console.error('Error starting session:', error);\r\n      toast.error(error.response?.data?.error || 'Failed to start validation session');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCellScan = async () => {\r\n    if (!currentCellInput.trim() || !sessionId) {\r\n      toast.error('Please enter a cell serial number');\r\n      return;\r\n    }\r\n    \r\n    if (scannedCells.some(cell => cell.serialNumber === currentCellInput.trim())) {\r\n      toast.error('Cell already scanned');\r\n      setCurrentCellInput('');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const response = await axios.post('/api/validation/scan', {\r\n        sessionId,\r\n        cellSerialNumber: currentCellInput.trim()\r\n      });\r\n      \r\n      const newScannedCell = {\r\n        serialNumber: currentCellInput.trim(),\r\n        isValid: response.data.isValid,\r\n        timestamp: new Date().toLocaleTimeString()\r\n      };\r\n      \r\n      setScannedCells([...scannedCells, newScannedCell]);\r\n      \r\n      if (response.data.isValid) {\r\n        toast.success('✅ Cell validated successfully!');\r\n      } else {\r\n        toast.error('❌ Cell does not belong to this kit!');\r\n      }\r\n      \r\n      setCurrentCellInput('');\r\n      \r\n    } catch (error) {\r\n      console.error('Error scanning cell:', error);\r\n      toast.error('Failed to validate cell');\r\n    }\r\n  };\r\n\r\n  const completeSession = async () => {\r\n    if (!sessionId) return;\r\n    \r\n    try {\r\n      await axios.post('/api/validation/complete', { sessionId });\r\n      toast.success('Validation session completed successfully!');\r\n      resetSession();\r\n    } catch (error) {\r\n      console.error('Error completing session:', error);\r\n      toast.error('Failed to complete session');\r\n    }\r\n  };\r\n\r\n  const resetSession = () => {\r\n    setSessionId(null);\r\n    setKitData(null);\r\n    setScannedCells([]);\r\n    setCurrentCellInput('');\r\n    setIsSessionActive(false);\r\n    setKitSerialNumber('');\r\n    setOperatorName('');\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && isSessionActive) {\r\n      e.preventDefault();\r\n      handleCellScan();\r\n    }\r\n  };\r\n\r\n  const getValidationProgress = () => {\r\n    if (!kitData) return 0;\r\n    const validScans = scannedCells.filter(cell => cell.isValid).length;\r\n    return (validScans / kitData.cells.length) * 100;\r\n  };\r\n\r\n  const isValidationComplete = () => {\r\n    if (!kitData) return false;\r\n    const validScans = scannedCells.filter(cell => cell.isValid).length;\r\n    return validScans === kitData.cells.length;\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto space-y-6\">\r\n      {/* Session Setup */}\r\n      {!isSessionActive && (\r\n        <div className=\"bg-white shadow rounded-lg\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h2 className=\"text-lg font-medium text-gray-900 flex items-center\">\r\n              <Play className=\"h-5 w-5 mr-2\" />\r\n              Start Validation Session\r\n            </h2>\r\n            <p className=\"mt-1 text-sm text-gray-600\">\r\n              Scan kit barcode and enter operator details to begin validation\r\n            </p>\r\n          </div>\r\n          \r\n          <form onSubmit={startValidationSession} className=\"p-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label htmlFor=\"kitSerialNumber\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Kit Serial Number *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"kitSerialNumber\"\r\n                  value={kitSerialNumber}\r\n                  onChange={(e) => setKitSerialNumber(e.target.value)}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                  placeholder=\"Scan kit barcode\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label htmlFor=\"operatorName\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Operator Name *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"operatorName\"\r\n                  value={operatorName}\r\n                  onChange={(e) => setOperatorName(e.target.value)}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                  placeholder=\"Enter operator name\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"mt-6 flex justify-end\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isLoading}\r\n                className=\"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center\"\r\n              >\r\n                {isLoading ? (\r\n                  <>\r\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                    Starting...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Play className=\"h-4 w-4 mr-2\" />\r\n                    Start Session\r\n                  </>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* Active Validation Session */}\r\n      {isSessionActive && kitData && (\r\n        <>\r\n          {/* Session Header */}\r\n          <div className=\"bg-white shadow rounded-lg\">\r\n            <div className=\"px-6 py-4 border-b border-gray-200\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                  <h2 className=\"text-lg font-medium text-gray-900 flex items-center\">\r\n                    <Scan className=\"h-5 w-5 mr-2\" />\r\n                    Validation Session Active\r\n                  </h2>\r\n                  <p className=\"mt-1 text-sm text-gray-600\">\r\n                    Kit: {kitData.kit.kit_serial_number} | Operator: {operatorName}\r\n                  </p>\r\n                </div>\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    onClick={completeSession}\r\n                    disabled={!isValidationComplete()}\r\n                    className=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center\"\r\n                  >\r\n                    <Square className=\"h-4 w-4 mr-2\" />\r\n                    Complete\r\n                  </button>\r\n                  <button\r\n                    onClick={resetSession}\r\n                    className=\"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 flex items-center\"\r\n                  >\r\n                    <RotateCcw className=\"h-4 w-4 mr-2\" />\r\n                    Reset\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Progress Bar */}\r\n            <div className=\"px-6 py-4\">\r\n              <div className=\"flex justify-between items-center mb-2\">\r\n                <span className=\"text-sm font-medium text-gray-700\">Validation Progress</span>\r\n                <span className=\"text-sm text-gray-500\">\r\n                  {scannedCells.filter(cell => cell.isValid).length} / {kitData.cells.length} cells\r\n                </span>\r\n              </div>\r\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                <div\r\n                  className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\r\n                  style={{ width: `${getValidationProgress()}%` }}\r\n                ></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Cell Scanning */}\r\n          <div className=\"bg-white shadow rounded-lg\">\r\n            <div className=\"px-6 py-4 border-b border-gray-200\">\r\n              <h3 className=\"text-lg font-medium text-gray-900\">Cell Scanning</h3>\r\n              <p className=\"mt-1 text-sm text-gray-600\">\r\n                Scan each cell barcode to validate against the kit\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"p-6\">\r\n              <div className=\"flex gap-2 mb-6\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={currentCellInput}\r\n                  onChange={(e) => setCurrentCellInput(e.target.value)}\r\n                  onKeyPress={handleKeyPress}\r\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                  placeholder=\"Scan cell barcode\"\r\n                  autoFocus\r\n                />\r\n                <button\r\n                  onClick={handleCellScan}\r\n                  className=\"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 flex items-center\"\r\n                >\r\n                  <Scan className=\"h-4 w-4 mr-2\" />\r\n                  Scan\r\n                </button>\r\n              </div>\r\n\r\n              {/* Expected Cells */}\r\n              <div className=\"mb-6\">\r\n                <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Expected Cells for Kit {kitData.kit.kit_serial_number}</h4>\r\n                <div className=\"grid grid-cols-4 md:grid-cols-8 gap-2\">\r\n                  {kitData.cells.map((cell, index) => {\r\n                    const scannedCell = scannedCells.find(sc => sc.serialNumber === cell);\r\n                    return (\r\n                      <div\r\n                        key={index}\r\n                        className={`p-2 rounded border text-center text-sm font-mono ${\r\n                          !scannedCell\r\n                            ? 'bg-gray-100 border-gray-300 text-gray-500'\r\n                            : scannedCell.isValid\r\n                            ? 'bg-green-100 border-green-300 text-green-800'\r\n                            : 'bg-red-100 border-red-300 text-red-800'\r\n                        }`}\r\n                      >\r\n                        {cell}\r\n                        {scannedCell && (\r\n                          <div className=\"mt-1\">\r\n                            {scannedCell.isValid ? (\r\n                              <CheckCircle className=\"h-4 w-4 text-green-600 mx-auto\" />\r\n                            ) : (\r\n                              <XCircle className=\"h-4 w-4 text-red-600 mx-auto\" />\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Scan History */}\r\n              {scannedCells.length > 0 && (\r\n                <div>\r\n                  <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Scan History</h4>\r\n                  <div className=\"space-y-2 max-h-48 overflow-y-auto\">\r\n                    {scannedCells.map((cell, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className={`flex items-center justify-between p-3 rounded border ${\r\n                          cell.isValid\r\n                            ? 'bg-green-50 border-green-200'\r\n                            : 'bg-red-50 border-red-200'\r\n                        }`}\r\n                      >\r\n                        <div className=\"flex items-center\">\r\n                          {cell.isValid ? (\r\n                            <CheckCircle className=\"h-5 w-5 text-green-600 mr-3\" />\r\n                          ) : (\r\n                            <XCircle className=\"h-5 w-5 text-red-600 mr-3\" />\r\n                          )}\r\n                          <span className=\"font-mono text-sm\">{cell.serialNumber}</span>\r\n                        </div>\r\n                        <span className=\"text-xs text-gray-500\">{cell.timestamp}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManufacturingValidation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}